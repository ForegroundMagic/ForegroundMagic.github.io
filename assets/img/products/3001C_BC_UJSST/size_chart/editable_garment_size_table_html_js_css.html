<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Garment Size Table — Editable</title>
  <style>
    :root{
      --bg: #f6f8fb;
      --paper: #fff;
      --ink: #0f172a;
      --ink-2: #334155;
      --brand: #1976d2;
      --brand-2:#0ea5e9;
      --line: #e2e8f0;
      --radius: 18px;
    }
    html,body{height:100%}
    body{
      margin:0; padding:24px; background:var(--bg); color:var(--ink);
      font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    .page{
      max-width: 1100px; margin: 0 auto; background: var(--paper); border-radius: var(--radius);
      box-shadow: 0 12px 30px rgba(2,8,23,.12);
      overflow: clip;
    }
    header{
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      color: #fff; padding: 20px 28px;
    }
    .title{font-weight:800; font-size: 24px; letter-spacing:.2px}
    .subtitle{opacity:.95; font-size:14px; margin-top:4px}

    .toolbar{display:flex; gap:10px; padding:14px 18px; align-items:center; background:#f8fafc; border-bottom:1px solid var(--line)}
    .toolbar .spacer{flex:1}
    .btn{
      appearance:none; cursor:pointer; border:1px solid var(--line); background:#fff; color:var(--ink);
      padding:8px 12px; border-radius:10px; font-weight:600; transition:.15s ease; box-shadow:0 1px 0 rgba(2,8,23,.04);
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 6px 16px rgba(2,8,23,.10)}
    .btn.primary{background:var(--ink); color:#fff; border-color: transparent}

    .wrap{padding: 22px 24px 28px}

    table{width:100%; border-collapse: separate; border-spacing:0; overflow:hidden; border-radius:12px;}
    thead th{
      background: #0b67be; color:#fff; font-weight:800; text-align:center; letter-spacing:.25px;
      padding: 12px 10px; border-right:1px solid rgba(255,255,255,.22);
    }
    thead th:first-child{ text-align:left }
    thead th:last-child{ border-right:0 }

    tbody td, tbody th{
      border-right:1px solid var(--line); border-bottom:1px solid var(--line); padding:12px 10px; text-align:center;
    }
    tbody th{ text-align:left; background:#f8fafc; font-weight:700; color:var(--ink-2)}
    tbody tr:last-child td, tbody tr:last-child th{ border-bottom:0 }
    tbody td:last-child, tbody th:last-child{ border-right:0 }

    .footnotes{ margin-top:12px; color:var(--ink-2); font-size: 13px }
    .footnotes li{ margin: 6px 0 }

    .note{ font-size:12px; color:#64748b; margin-top:8px }

    /* print-ready */
    @media print{
      body{ background:#fff; padding:0 }
      .page{ box-shadow:none; border-radius:0; }
      .toolbar{ display:none }
    }
    /* contenteditable highlighting */
    [contenteditable="true"]:focus{ outline: 3px solid rgba(14,165,233,.35); border-radius:4px }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="title" id="title" contenteditable="false">Unisex Jersey Short-Sleeve T‑Shirt 3001C</div>
      <div class="subtitle" id="subtitle" contenteditable="false">Actual Garment Measurements</div>
    </header>

    <div class="toolbar">
      <button class="btn primary" id="toggleEdit">Enable edit mode</button>
      <button class="btn" id="exportJSON">Export JSON</button>
      <label class="btn" for="importJSON">Import JSON</label>
      <input id="importJSON" type="file" accept="application/json" style="display:none" />
      <div class="spacer"></div>
      <span class="note">Tip: Toggle edit mode, then click a cell to edit. Export your data to reuse.</span>
    </div>

    <div class="wrap">
      <div id="tableMount"></div>
      <ul class="footnotes" id="footnotes"></ul>
    </div>
  </div>

  <script>
  // -------- Data model you can easily modify ---------
  let data = {
    title: "Unisex Jersey Short-Sleeve T-Shirt 3001C",
    subtitle: "Actual Garment Measurements",
    columns: ["", "XS", "S", "M", "L", "XL", "2XL", "3XL", "4XL"],
    rows: [
      { label: "Chest (Front Only)", values: ["16½", "18", "20", "22", "24", "26", "28", "30"] },
      { label: "Body Length",        values: ["27",  "28", "29", "30", "31", "32", "33", "34"] }
    ],
    footnotes: [
      "Chest - Measured across chest, one inch below armhole when laid flat.",
      "Body Length - Measured from high point of shoulder from the front."
    ]
  };

  // ---------- Rendering ----------
  const tableMount = document.getElementById('tableMount');
  const foot = document.getElementById('footnotes');

  function render(){
    document.getElementById('title').textContent = data.title;
    document.getElementById('subtitle').textContent = data.subtitle;

    const table = document.createElement('table');

    // header
    const thead = document.createElement('thead');
    const hr = document.createElement('tr');
    data.columns.forEach((col, i)=>{
      const th = document.createElement('th');
      th.textContent = col;
      th.dataset.colIndex = i;
      hr.appendChild(th);
    });
    thead.appendChild(hr);

    // body
    const tbody = document.createElement('tbody');
    data.rows.forEach((row, rIndex)=>{
      const tr = document.createElement('tr');
      const th = document.createElement('th');
      th.textContent = row.label; th.dataset.rowIndex = rIndex; th.dataset.kind = 'rowLabel';
      tr.appendChild(th);
      data.columns.slice(1).forEach((_, cIndex)=>{
        const td = document.createElement('td');
        td.textContent = row.values[cIndex] ?? '';
        td.dataset.rowIndex = rIndex;
        td.dataset.colIndex = cIndex+1;
        td.dataset.kind = 'cell';
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });

    // mount
    table.appendChild(thead); table.appendChild(tbody);
    tableMount.innerHTML = '';
    tableMount.appendChild(table);

    // footnotes
    foot.innerHTML = '';
    data.footnotes.forEach((t, i)=>{
      const li = document.createElement('li');
      li.textContent = t; li.dataset.index = i; li.dataset.kind = 'footnote';
      foot.appendChild(li);
    });
  }

  render();

  // ---------- Edit mode handling ----------
  let edit = false;
  function setEditable(on){
    edit = on;
    document.getElementById('title').contentEditable = String(on);
    document.getElementById('subtitle').contentEditable = String(on);
    document.querySelectorAll('tbody td, tbody th, thead th, .footnotes li').forEach(el=>{
      // make first header cell (columns[0]) editable, and row labels/footnotes editable
      const isHeader = el.closest('thead') !== null;
      const isFirstHeader = isHeader && Number(el.dataset.colIndex) === 0;
      const isRowLabel = el.dataset.kind === 'rowLabel';
      const isCell = el.dataset.kind === 'cell';
      const isFoot = el.dataset.kind === 'footnote';
      el.contentEditable = String(on && (isCell || isRowLabel || isFoot || isFirstHeader));
    });
    document.getElementById('toggleEdit').textContent = on ? 'Disable edit mode' : 'Enable edit mode';
  }

  document.getElementById('toggleEdit').addEventListener('click',()=>{
    setEditable(!edit);
  });

  // Persist edits back to data model
  document.addEventListener('input', (e)=>{
    if(!edit) return;
    const t = e.target;
    if(t.id === 'title') data.title = t.textContent.trim();
    if(t.id === 'subtitle') data.subtitle = t.textContent.trim();

    if(t.closest('thead')){
      const idx = Number(t.dataset.colIndex);
      data.columns[idx] = t.textContent.trim();
    }
    if(t.dataset.kind === 'rowLabel'){
      data.rows[Number(t.dataset.rowIndex)].label = t.textContent.trim();
    }
    if(t.dataset.kind === 'cell'){
      const r = Number(t.dataset.rowIndex);
      const c = Number(t.dataset.colIndex) - 1; // values index
      data.rows[r].values[c] = t.textContent.trim();
    }
    if(t.dataset.kind === 'footnote'){
      data.footnotes[Number(t.dataset.index)] = t.textContent.trim();
    }
  });

  // ---------- Export / Import ----------
  document.getElementById('exportJSON').addEventListener('click', ()=>{
    const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'garment-table.json';
    a.click();
    URL.revokeObjectURL(a.href);
  });

  document.getElementById('importJSON').addEventListener('change', (e)=>{
    const file = e.target.files?.[0]; if(!file) return;
    const reader = new FileReader();
    reader.onload = () => {
      try{ data = JSON.parse(reader.result); render(); if(edit) setEditable(true); }
      catch(err){ alert('Invalid JSON file.'); }
    };
    reader.readAsText(file);
  });
  </script>
</body>
</html>
